{"ast":null,"code":"import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nconst api = axios.create({\n  withCredentials: true\n});\nexport const getAllItemsStart = () => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_START\n  };\n};\nexport const getChildren = array => async dispatch => {\n  console.log(\"getChildren\");\n\n  for (let i = 0; i < array.length; i++) {\n    for (let j = 0; j < array[i].children.length; j++) {\n      let url = array[i].children[j].price;\n      await axios.get(url).then(res => {\n        console.log(res.data);\n        let variable = array[i].children[j]; // let arr = [res.data]\n\n        variable[\"price\"] = res.data;\n        console.log(array);\n      });\n    }\n  }\n\n  console.log(array[4].children[0].price);\n  dispatch(getAllItemsStart());\n};\nexport const getArray = pop => async dispatch => {\n  let array = [];\n  console.log(\"pop w getArray\");\n  console.log(pop);\n\n  for (let i = 0; i < pop.length; i++) {\n    let url = pop[i].url;\n    await axios.get(url).then(res => {\n      if (res.data.structure === \"parent\") {\n        array.push(res.data);\n      }\n    });\n  }\n\n  console.log(array);\n  dispatch(getChildren(array));\n  dispatch(getAllItemsSuccess(array));\n};\nexport const getAllItemsSuccess = items => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_SUCCESS,\n    items: items\n  };\n};\nexport const getAllItemsFail = error => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_FAIL,\n    error: error\n  };\n};\nexport const getItemsStart = start => {\n  console.log(start);\n  return {\n    type: actionTypes.GET_ITEMS_START\n  };\n};\nexport const getItemsSuccess = items => {\n  return {\n    type: actionTypes.GET_ITEMS_SUCCESS\n  };\n};\nexport const getItemsFail = error => {\n  return {\n    type: actionTypes.GET_ITEMS_FAIL,\n    error: error\n  };\n};\nexport const getItems = () => async dispatch => {\n  let xd;\n  dispatch(getItemsStart());\n  await axios.get(\"http://127.0.0.1:8000/api/products/\").then(res => {\n    xd = res.data;\n    const items = res.data;\n    console.log(items);\n    let proba = {\n      name: \"John\",\n      age: 31,\n      city: \"New York\"\n    };\n    let pop = [];\n\n    for (let i = 0; i < items.length; i++) {\n      let url = items[i].url;\n      axios.get(url).then(res => {\n        let length = res.data.children.length;\n\n        if (length > 0) {\n          pop.push(proba);\n        }\n      });\n    }\n  });\n  dispatch(getArray(xd));\n  dispatch(getItemsFail());\n};","map":{"version":3,"sources":["C:/Users/Michal/django-react-boilerplate/src/store/actions/items.js"],"names":["axios","actionTypes","api","create","withCredentials","getAllItemsStart","type","GET_ALL_ITEMS_START","getChildren","array","dispatch","console","log","i","length","j","children","url","price","get","then","res","data","variable","getArray","pop","structure","push","getAllItemsSuccess","items","GET_ALL_ITEMS_SUCCESS","getAllItemsFail","error","GET_ALL_ITEMS_FAIL","getItemsStart","start","GET_ITEMS_START","getItemsSuccess","GET_ITEMS_SUCCESS","getItemsFail","GET_ITEMS_FAIL","getItems","xd","proba","name","age","city"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AACA,MAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AACxBC,EAAAA,eAAe,EAAE;AADO,CAAb,CAAZ;AAGA,OAAO,MAAMC,gBAAgB,GAAG,MAAK;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAEL,WAAW,CAACM;AADb,GAAP;AAGD,CAJM;AAMP,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAW,MAAMC,QAAN,IAAiB;AACrDC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;;AACA,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,KAAK,CAACK,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC7B,SAAI,IAAIE,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACN,KAAK,CAACI,CAAD,CAAL,CAASG,QAAT,CAAkBF,MAAhC,EAAuCC,CAAC,EAAxC,EAA2C;AACzC,UAAIE,GAAG,GAAGR,KAAK,CAACI,CAAD,CAAL,CAASG,QAAT,CAAkBD,CAAlB,EAAqBG,KAA/B;AACA,YAAMlB,KAAK,CAACmB,GAAN,CAAUF,GAAV,EAAeG,IAAf,CACJC,GAAG,IAAG;AACJV,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,IAAhB;AACA,YAAIC,QAAQ,GAAGd,KAAK,CAACI,CAAD,CAAL,CAASG,QAAT,CAAkBD,CAAlB,CAAf,CAFI,CAGJ;;AACAQ,QAAAA,QAAQ,CAAC,OAAD,CAAR,GAAmBF,GAAG,CAACC,IAAvB;AAEAX,QAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,OARG,CAAN;AAUH;AACF;;AACDE,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAAC,CAAD,CAAL,CAASO,QAAT,CAAkB,CAAlB,EAAqBE,KAAjC;AACAR,EAAAA,QAAQ,CAACL,gBAAgB,EAAjB,CAAR;AACC,CAnBM;AAoBP,OAAO,MAAMmB,QAAQ,GAAIC,GAAD,IAAS,MAAMf,QAAN,IAAiB;AAChD,MAAID,KAAK,GAAE,EAAX;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;;AACA,OAAI,IAAIZ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACY,GAAG,CAACX,MAAnB,EAA0BD,CAAC,EAA3B,EAA8B;AAC5B,QAAII,GAAG,GAAGQ,GAAG,CAACZ,CAAD,CAAH,CAAOI,GAAjB;AACA,UAAMjB,KAAK,CAACmB,GAAN,CAAUF,GAAV,EAAeG,IAAf,CACJC,GAAG,IAAE;AACH,UAAGA,GAAG,CAACC,IAAJ,CAASI,SAAT,KAAqB,QAAxB,EAAiC;AAC/BjB,QAAAA,KAAK,CAACkB,IAAN,CAAWN,GAAG,CAACC,IAAf;AACD;AACF,KALG,CAAN;AAME;;AACJX,EAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAGAC,EAAAA,QAAQ,CAACF,WAAW,CAACC,KAAD,CAAZ,CAAR;AACAC,EAAAA,QAAQ,CAACkB,kBAAkB,CAACnB,KAAD,CAAnB,CAAR;AAED,CAnBM;AAoBP,OAAO,MAAMmB,kBAAkB,GAAIC,KAAD,IAAW;AAC3C,SAAO;AACLvB,IAAAA,IAAI,EAAEL,WAAW,CAAC6B,qBADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAMP,OAAO,MAAME,eAAe,GAAGC,KAAK,IAAI;AACtC,SAAO;AACL1B,IAAAA,IAAI,EAAEL,WAAW,CAACgC,kBADb;AAELD,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,MAAME,aAAa,GAAIC,KAAD,IAAW;AACpCxB,EAAAA,OAAO,CAACC,GAAR,CAAYuB,KAAZ;AACA,SAAO;AACL7B,IAAAA,IAAI,EAAEL,WAAW,CAACmC;AADb,GAAP;AAGD,CALI;AAMP,OAAO,MAAMC,eAAe,GAAIR,KAAD,IAAW;AACtC,SAAO;AACLvB,IAAAA,IAAI,EAAEL,WAAW,CAACqC;AADb,GAAP;AAID,CALI;AAMP,OAAO,MAAMC,YAAY,GAAGP,KAAK,IAAI;AACjC,SAAO;AACL1B,IAAAA,IAAI,EAAEL,WAAW,CAACuC,cADb;AAELR,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALI;AAMP,OAAO,MAAMS,QAAQ,GAAG,MAAM,MAAM/B,QAAN,IAC9B;AACM,MAAIgC,EAAJ;AAEAhC,EAAAA,QAAQ,CAACwB,aAAa,EAAd,CAAR;AACA,QAAMlC,KAAK,CAACmB,GAAN,CAAU,qCAAV,EACHC,IADG,CACEC,GAAG,IAAI;AACTqB,IAAAA,EAAE,GAAGrB,GAAG,CAACC,IAAT;AACA,UAAMO,KAAK,GAAER,GAAG,CAACC,IAAjB;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAYiB,KAAZ;AACA,QAAIc,KAAK,GAAG;AAACC,MAAAA,IAAI,EAAE,MAAP;AAAeC,MAAAA,GAAG,EAAE,EAApB;AAAwBC,MAAAA,IAAI,EAAE;AAA9B,KAAZ;AACA,QAAIrB,GAAG,GAAG,EAAV;;AACA,SAAI,IAAIZ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACgB,KAAK,CAACf,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAE9B,UAAII,GAAG,GAAEY,KAAK,CAAChB,CAAD,CAAL,CAASI,GAAlB;AACAjB,MAAAA,KAAK,CAACmB,GAAN,CAAUF,GAAV,EAAeG,IAAf,CAAoBC,GAAG,IACrB;AACE,YAAIP,MAAM,GAAGO,GAAG,CAACC,IAAJ,CAASN,QAAT,CAAkBF,MAA/B;;AACA,YAAGA,MAAM,GAAG,CAAZ,EAAc;AACZW,UAAAA,GAAG,CAACE,IAAJ,CAASgB,KAAT;AACD;AACF,OANH;AAQD;AAIF,GAtBC,CAAN;AAwBEjC,EAAAA,QAAQ,CAACc,QAAQ,CAACkB,EAAD,CAAT,CAAR;AAEAhC,EAAAA,QAAQ,CAAC6B,YAAY,EAAb,CAAR;AACD,CAhCA","sourcesContent":["import axios from \"axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\nconst api = axios.create({\r\n\twithCredentials: true\r\n});\r\nexport const getAllItemsStart = () =>{\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_START\r\n  };\r\n}\r\n\r\nexport const getChildren = (array) => async(dispatch)=>{\r\n  console.log(\"getChildren\")\r\n  for(let i=0;i<array.length;i++){\r\n    for(let j=0;j<array[i].children.length;j++){\r\n      let url = array[i].children[j].price\r\n      await axios.get(url).then(\r\n        res =>{\r\n          console.log(res.data)\r\n          let variable = array[i].children[j]\r\n          // let arr = [res.data]\r\n          variable[\"price\"]= res.data\r\n          \r\n          console.log(array)\r\n        }\r\n      )\r\n  }\r\n}\r\nconsole.log(array[4].children[0].price)\r\ndispatch(getAllItemsStart())\r\n}\r\nexport const getArray = (pop) => async(dispatch)=>{\r\n  let array =[]\r\n  console.log(\"pop w getArray\")\r\n  console.log(pop) \r\n  for(let i=0; i<pop.length;i++){\r\n    let url = pop[i].url\r\n    await axios.get(url).then(\r\n      res=>{\r\n        if(res.data.structure===\"parent\"){\r\n          array.push(res.data)\r\n        }\r\n      }\r\n    )}\r\n  console.log(array)\r\n  \r\n  \r\n  dispatch(getChildren(array))\r\n  dispatch(getAllItemsSuccess(array))\r\n  \r\n}\r\nexport const getAllItemsSuccess = (items) => {\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_SUCCESS,\r\n    items: items\r\n  };\r\n};\r\nexport const getAllItemsFail = error => {\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_FAIL,\r\n    error: error\r\n  };\r\n};  \r\n\r\nexport const getItemsStart = (start) => {\r\n    console.log(start)\r\n    return {\r\n      type: actionTypes.GET_ITEMS_START\r\n    };\r\n  };\r\nexport const getItemsSuccess = (items) => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_SUCCESS,\r\n      \r\n    };\r\n  };\r\nexport const getItemsFail = error => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_FAIL,\r\n      error: error\r\n    };\r\n  };  \r\nexport const getItems = () => async(dispatch) => \r\n{\r\n      let xd \r\n      \r\n      dispatch(getItemsStart());\r\n      await axios.get(\"http://127.0.0.1:8000/api/products/\")\r\n        .then(res => {\r\n            xd = res.data\r\n            const items= res.data\r\n            console.log(items)\r\n            let proba = {name: \"John\", age: 31, city: \"New York\"}\r\n            let pop = []  \r\n            for(let i=0; i<items.length;i++){\r\n              \r\n              let url= items[i].url\r\n              axios.get(url).then(res =>\r\n                { \r\n                  let length = res.data.children.length\r\n                  if(length > 0){\r\n                    pop.push(proba) \r\n                  }\r\n                }\r\n              )\r\n            }\r\n            \r\n            \r\n            \r\n          }\r\n        )\r\n        dispatch(getArray(xd));\r\n        \r\n        dispatch(getItemsFail())\r\n      };\r\n  "]},"metadata":{},"sourceType":"module"}