{"ast":null,"code":"import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nexport const getAllItemsStart = () => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_START\n  };\n};\nexport const getArray = items => {\n  console.log(items); // Wyświetlenie tablicy \n\n  return {\n    type: actionTypes.GET_ARRAY,\n    items\n  };\n};\nexport const getAllItemsSuccess = items => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_SUCCESS,\n    items: items\n  };\n};\nexport const getAllItemsFail = error => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_FAIL,\n    error: error\n  };\n};\nexport const getAllItems = items => {\n  return dispatch => {\n    console.log(\"itemy\");\n    console.log(items);\n    let arr = [];\n\n    for (let i = 0; i < items.length; i++) {\n      let url = items[i].url;\n      axios.get(url).then(res => {\n        arr.push(res.data);\n      });\n      console.log(arr);\n    } // console.log(\"get all items\")\n    // axios.get(`http://127.0.0.1:8000/api/products/`)\n    // .then(res => {\n    //     console.log(\"res\")\n    //     const items= res.data\n    //     console.log(items)\n    //     dispatch(getItemsSuccess(items));\n    // })\n    // .catch(err => {\n    // //   dispatch(getItemsFail());\n    // });\n\n  };\n};\nexport const getItemsStart = () => {\n  return {\n    type: actionTypes.GET_ITEMS_START\n  };\n};\nexport const getItemsSuccess = items => {\n  return {\n    type: actionTypes.GET_ITEMS_SUCCESS\n  };\n};\nexport const getItemsFail = error => {\n  return {\n    type: actionTypes.GET_ITEMS_FAIL,\n    error: error\n  };\n}; // export const getDetailItems=()=>{\n// }\n\nexport const getItems = () => {\n  return dispatch => {\n    dispatch(getItemsStart());\n    axios.get(\"http://127.0.0.1:8000/api/products/\").then(res => {\n      const items = res.data; // console.log(items)\n      // let proba = {name: \"John\", age: 31, city: \"New York\"}\n      // let users = [\n      //   {\n      //     \"name\": \"John\",\n      //     \"age\": 31,\n      //     \"city\": \"New York\"\n      //   },\n      //   {\n      //     \"name\": \"John\",\n      //     \"age\": 31,\n      //     \"city\": \"New York\"\n      //   },\n      //   {\n      //     \"name\": \"John\",\n      //     \"age\": 31,\n      //     \"city\": \"New York\"\n      //   },\n      //   {\n      //     \"name\": \"John\",\n      //     \"age\": 31,\n      //     \"city\": \"New York\"\n      //   }\n      // ]\n      // console.log(users) // Ręczne utworzenie\n      // let pop = []  // Utworzenie tablicy\n      // for(let i=0; i<items.length;i++){\n      //   console.log(\"ITEMy\")\n      //   console.log(items[i])\n      //   let url= items[i].url\n      //   axios.get(url).then(res =>\n      //     { \n      //       let length = res.data.children.length\n      //       if(length > 0){\n      //         console.log(items[i])\n      //         pop.push(proba) // Dodanie rekordów do tablicy \n      //       }\n      //     }\n      //   )\n      // }\n\n      dispatch(getArray(items));\n      dispatch(getItemsSuccess(items));\n      dispatch(getAllItems(items));\n    }).catch(err => {//   dispatch(getItemsFail());\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Michal/django-react-boilerplate/src/store/actions/items.js"],"names":["axios","actionTypes","getAllItemsStart","type","GET_ALL_ITEMS_START","getArray","items","console","log","GET_ARRAY","getAllItemsSuccess","GET_ALL_ITEMS_SUCCESS","getAllItemsFail","error","GET_ALL_ITEMS_FAIL","getAllItems","dispatch","arr","i","length","url","get","then","res","push","data","getItemsStart","GET_ITEMS_START","getItemsSuccess","GET_ITEMS_SUCCESS","getItemsFail","GET_ITEMS_FAIL","getItems","catch","err"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\nexport const getAllItemsStart = () =>{\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_START\r\n  };\r\n}\r\nexport const getArray = (items) =>{\r\n  console.log(items) // Wyświetlenie tablicy \r\n  return{\r\n    type: actionTypes.GET_ARRAY,\r\n    items\r\n  }\r\n}\r\nexport const getAllItemsSuccess = (items) => {\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_SUCCESS,\r\n    items: items\r\n  };\r\n};\r\nexport const getAllItemsFail = error => {\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_FAIL,\r\n    error: error\r\n  };\r\n};  \r\nexport const getAllItems = (items) => {\r\n  return dispatch => {\r\n      console.log(\"itemy\")\r\n      console.log(items)\r\n      let arr = []\r\n      for(let i=0;i<items.length;i++){\r\n        let url =items[i].url\r\n        axios.get(url).then(res =>{\r\n          arr.push(res.data)\r\n        })\r\n        console.log(arr)\r\n      }\r\n      \r\n      // console.log(\"get all items\")\r\n      // axios.get(`http://127.0.0.1:8000/api/products/`)\r\n      // .then(res => {\r\n      //     console.log(\"res\")\r\n      //     const items= res.data\r\n      //     console.log(items)\r\n      //     dispatch(getItemsSuccess(items));\r\n      // })\r\n      // .catch(err => {\r\n      // //   dispatch(getItemsFail());\r\n      // });\r\n  };\r\n};\r\nexport const getItemsStart = () => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_START\r\n    };\r\n  };\r\nexport const getItemsSuccess = (items) => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_SUCCESS,\r\n      \r\n    };\r\n  };\r\nexport const getItemsFail = error => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_FAIL,\r\n      error: error\r\n    };\r\n  };  \r\n// export const getDetailItems=()=>{\r\n\r\n// }\r\nexport const getItems = () => {\r\n  return dispatch => {\r\n      dispatch(getItemsStart());\r\n      axios.get(\"http://127.0.0.1:8000/api/products/\")\r\n        .then(res => {\r\n            const items= res.data\r\n            // console.log(items)\r\n            // let proba = {name: \"John\", age: 31, city: \"New York\"}\r\n            \r\n            // let users = [\r\n            //   {\r\n            //     \"name\": \"John\",\r\n            //     \"age\": 31,\r\n            //     \"city\": \"New York\"\r\n            //   },\r\n            //   {\r\n            //     \"name\": \"John\",\r\n            //     \"age\": 31,\r\n            //     \"city\": \"New York\"\r\n            //   },\r\n            //   {\r\n            //     \"name\": \"John\",\r\n            //     \"age\": 31,\r\n            //     \"city\": \"New York\"\r\n            //   },\r\n            //   {\r\n            //     \"name\": \"John\",\r\n            //     \"age\": 31,\r\n            //     \"city\": \"New York\"\r\n            //   }\r\n            // ]\r\n            // console.log(users) // Ręczne utworzenie\r\n            // let pop = []  // Utworzenie tablicy\r\n            // for(let i=0; i<items.length;i++){\r\n            //   console.log(\"ITEMy\")\r\n            //   console.log(items[i])\r\n            //   let url= items[i].url\r\n            //   axios.get(url).then(res =>\r\n            //     { \r\n            //       let length = res.data.children.length\r\n            //       if(length > 0){\r\n            //         console.log(items[i])\r\n            //         pop.push(proba) // Dodanie rekordów do tablicy \r\n            //       }\r\n            //     }\r\n            //   )\r\n            // }\r\n            dispatch(getArray(items));\r\n            dispatch(getItemsSuccess(items));\r\n            dispatch(getAllItems(items))\r\n        }\r\n        \r\n        )\r\n        .catch(err => {\r\n        //   dispatch(getItemsFail());\r\n        });\r\n    };\r\n  };\r\n  "]},"metadata":{},"sourceType":"module"}