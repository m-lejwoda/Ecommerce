{"ast":null,"code":"import axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nexport const getAllItemsStart = () => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_START\n  };\n};\nexport const getArray = items => {\n  return {\n    type: actionTypes.GET_ARRAY,\n    mainarray: items\n  };\n};\nexport const getAllItemsSuccess = items => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_SUCCESS,\n    items: items\n  };\n};\nexport const getAllItemsFail = error => {\n  return {\n    type: actionTypes.GET_ALL_ITEMS_FAIL,\n    error: error\n  };\n};\nexport const getAllItems = id => {\n  return dispatch => {\n    dispatch(getItemsStart());\n    axios.get(`http://127.0.0.1:8000/api/products/${id}`).then(res => {\n      const items = res.data;\n      dispatch(getItemsSuccess(items));\n    }).catch(err => {//   dispatch(getItemsFail());\n    });\n  };\n};\nexport const getItemsStart = () => {\n  return {\n    type: actionTypes.GET_ITEMS_START\n  };\n};\nexport const getItemsSuccess = items => {\n  return {\n    type: actionTypes.GET_ITEMS_SUCCESS,\n    items: items\n  };\n};\nexport const getItemsFail = error => {\n  return {\n    type: actionTypes.GET_ITEMS_FAIL,\n    error: error\n  };\n};\nexport const getItems = () => {\n  return dispatch => {\n    dispatch(getItemsStart());\n    axios.get(\"http://127.0.0.1:8000/api/products/\").then(res => {\n      const items = res.data;\n      let array = [];\n\n      for (let i = 0; i < items.length; i++) {\n        let url = items[i].url;\n        console.log(items[i].url);\n        axios.get(url).then(res => {\n          let length = res.data.children.length;\n\n          if (length > 1) {\n            array.push(res.data);\n          }\n        });\n      }\n\n      console.log(array);\n      dispatch(getArray(array));\n      dispatch(getItemsSuccess(items));\n    }).catch(err => {//   dispatch(getItemsFail());\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Michal/django-react-boilerplate/src/store/actions/items.js"],"names":["axios","actionTypes","getAllItemsStart","type","GET_ALL_ITEMS_START","getArray","items","GET_ARRAY","mainarray","getAllItemsSuccess","GET_ALL_ITEMS_SUCCESS","getAllItemsFail","error","GET_ALL_ITEMS_FAIL","getAllItems","id","dispatch","getItemsStart","get","then","res","data","getItemsSuccess","catch","err","GET_ITEMS_START","GET_ITEMS_SUCCESS","getItemsFail","GET_ITEMS_FAIL","getItems","array","i","length","url","console","log","children","push"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\nexport const getAllItemsStart = () =>{\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_START\r\n  };\r\n}\r\nexport const getArray = (items) =>{\r\n  return{\r\n    type: actionTypes.GET_ARRAY,\r\n    mainarray: items\r\n  }\r\n}\r\nexport const getAllItemsSuccess = (items) => {\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_SUCCESS,\r\n    items: items\r\n  };\r\n};\r\nexport const getAllItemsFail = error => {\r\n  return {\r\n    type: actionTypes.GET_ALL_ITEMS_FAIL,\r\n    error: error\r\n  };\r\n};  \r\nexport const getAllItems = (id) => {\r\n  return dispatch => {\r\n      dispatch(getItemsStart());\r\n      axios.get(`http://127.0.0.1:8000/api/products/${id}`)\r\n      .then(res => {\r\n          const items= res.data\r\n          dispatch(getItemsSuccess(items));\r\n      })\r\n      .catch(err => {\r\n      //   dispatch(getItemsFail());\r\n      });\r\n  };\r\n};\r\nexport const getItemsStart = () => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_START\r\n    };\r\n  };\r\nexport const getItemsSuccess = (items) => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_SUCCESS,\r\n      items: items\r\n    };\r\n  };\r\nexport const getItemsFail = error => {\r\n    return {\r\n      type: actionTypes.GET_ITEMS_FAIL,\r\n      error: error\r\n    };\r\n  };  \r\n\r\n  export const getItems = () => {\r\n    return dispatch => {\r\n        dispatch(getItemsStart());\r\n        axios.get(\"http://127.0.0.1:8000/api/products/\")\r\n        .then(res => {\r\n            const items= res.data\r\n            let array = []\r\n            for(let i=0; i<items.length;i++){\r\n              let url= items[i].url\r\n              console.log(items[i].url)\r\n              axios.get(url).then(res =>\r\n                {\r\n                  let length = res.data.children.length\r\n                  if(length > 1){\r\n                    array.push(res.data)\r\n                  }\r\n                }\r\n              )\r\n              \r\n            }\r\n            console.log(array)\r\n            dispatch(getArray(array));\r\n            dispatch(getItemsSuccess(items));\r\n        })\r\n        .catch(err => {\r\n        //   dispatch(getItemsFail());\r\n        });\r\n    };\r\n  };\r\n  "]},"metadata":{},"sourceType":"module"}